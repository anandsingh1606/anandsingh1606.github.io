(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{371:function(e,t,r){"use strict";r.r(t);var h=r(0),j=r.n(h),n=r(19),E=r(23),a=r(2),i=r.n(a),m=r(368),p=r(331),f=r(370),b=r(377),d=r(283),y=r(369),O=r(367),o=r(307),v=r.n(o),g=r(280),w=r(281),l=r(87),c=r.n(l),S=r(291),u=[{ruleName:"required",msg:{fieldName:"Mobile Number"}},{ruleName:"isMobile",msg:{fieldName:"Mobile Number"}}],s=[{ruleName:"required",msg:{fieldName:"Otp"}},{ruleName:"minStringLength",msg:{fieldName:"Otp",min:6},ruleValue:6}],P=[{ruleName:"required",msg:{fieldName:"Display Name"}}],N={matchRegexp:"{{fieldName}} is not valid",isEmail:"Please enter a valid email address",isEmpty:"",required:"{{fieldName}} is required",trim:"",isNumber:"{{fieldName}} must be a numeric value",isFloat:"",isPositive:"Please enter a valid {{fieldName}}",minNumber:"{{fieldName}} must be greater than {{min}}",maxNumber:"{{fieldName}} must be smaller than {{min}}",minFloat:"",maxFloat:"",minStringLength:"{{fieldName}} must have at least {{min}} characters",maxStringLength:"{{fieldName}} must be less than {{min}} characters",isString:"",maxFileSize:"",allowedExtensions:"",isMobile:"Please enter a valid mobile number"};S.ValidatorForm.addValidationRule("isMobile",function(e){return new RegExp(/^[0-9]\d{9}$/).test(e)});var V={required:function(e){return F("required",0<arguments.length&&void 0!==e?e:{fieldName:"This field"})},isEmail:function(e){return F("isEmail",e)},isNumber:function(e){return F("isNumber",e)},isPositive:function(e){return F("isPositive",e)},minStringLength:function(e,t){return F("minStringLength",0<arguments.length&&void 0!==e?e:{fieldName:"This field",min:6},1<arguments.length&&void 0!==t?t:6)},matchRegexp:function(e,t){return F("matchRegexp",e,t)},isMobile:function(e){return F("isMobile",e)}};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(r){var n=[],a=[];return r.forEach(function(e){console.info("rule",r,e);var t=V[e.ruleName](e.msg,e.ruleValue);n.push(t.name),a.push(t.msg)}),{validators:n,errorMessages:a}}var M,x,T,F=function(e,t,r){var n=N[e],a=r?"".concat(e,":").concat(r):e;return n?t?"object"===R(t)?(Object.entries(t).forEach(function(e){var t=e[0],r=e[1];n=n.replace("{{".concat(t,"}}"),r)}),{name:a,msg:n}):{name:a,msg:t}:{name:a,msg:n}:(console.log("".concat(e," default message is not added")),{name:a,msg:"invalid value"})};function k(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?k(Object(r),!0).forEach(function(e){D(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function D(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _={mobileNumber:C(u),displayName:C(P),otp:C(s)};console.log("mobileSendOtpValidation",_.mobileNumber);var q="mobileNumber",L="otp",A="displayName",B="countryCode",Y=(D(M={},q,I({name:"mobileNumber",value:"",label:"Mobile Number",withRequiredValidator:!0},_.mobileNumber)),D(M,A,I({label:"Display Name",name:"displayName",value:"",withRequiredValidator:!0},_.displayName)),D(M,L,I({name:"otp",label:"OTP",value:"",withRequiredValidator:!0},_.otp)),D(M,B,{name:"countryCode",value:"IN"}),M),K={controls:(D(x={},q,I({},Y[q])),D(x,A,I({},Y[A])),D(x,B,I({},Y[B])),x),view:{title:"Sing Up"}},W={controls:D({},L,I({},Y[L])),view:{title:"Verify Otp"}},U={controls:(D(T={},q,I({},Y[q])),D(T,B,I({},Y[B])),T),view:{title:"Sign In"}};function $(e){return{main:(t={width:"auto",display:"block",marginLeft:e.spacing(3),marginRight:e.spacing(3)},r=e.breakpoints.up(400+2*e.spacing(3)),n={width:400,marginLeft:"auto",marginRight:"auto"},r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t),authCard:{marginTop:e.spacing(8)},progressCss:{borderRadius:"4px 4px 0px 0px"},paper:{display:"flex",flexDirection:"column",alignItems:"center",padding:"".concat(e.spacing(2),"px ").concat(e.spacing(3),"px ").concat(e.spacing(3),"px"),position:"relative"},avatar:{margin:e.spacing(),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing()},submit:{marginTop:e.spacing(3)},paperNavIcon:{position:"absolute",top:"0px",left:"0px"}};var t,r,n}var G=r(364),J=r(373);function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=e.value,r=e.handleChange,n=e.name;return j.a.createElement(ae.a,{value:t,disableUnderline:!0,onChange:function(e){r(n,{value:e.target.value})},renderValue:function(e){return"+"+Object(oe.b)(e)}},Object(oe.a)().map(function(e,t){return j.a.createElement(ie.a,{key:t,value:e},le[e]," +",Object(oe.b)(e))}))}var ne=function(){function s(){var e,r,t,n,a,i,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return t=this,n=(e=Z(s)).call.apply(e,[this].concat(c)),r=!n||"object"!==z(n)&&"function"!=typeof n?ee(t):n,a=ee(r),o=function(e){var t=r.props;(0,t.handleChange)(t.name,{value:e.target.value})},(i="handleValueChange")in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,r}var e,t,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(s,S["ValidatorComponent"]),e=s,(t=[{key:"render",value:function(){var t=this,e=this.props,r=(e.errorMessages,e.validators,e.requiredError,e.validatorListener,e.withRequiredValidator,e.handleChange,e.prefix),n=Q(e,["errorMessages","validators","requiredError","validatorListener","withRequiredValidator","handleChange","prefix"]),a={};return r&&(a.InputProps={startAdornment:j.a.createElement(G.a,{position:"start"},r)}),j.a.createElement(j.a.Fragment,null,j.a.createElement(J.a,H({onChange:this.handleValueChange,variant:"outlined"},n,{helperText:this.state.isValid?n.helperText:this.getErrorMessage(),error:!this.state.isValid,ref:function(e){t.input=e}},a)))}}])&&X(e.prototype,t),r&&X(e,r),s}(),ae=r(372),ie=r(285),oe=r(131),le=r(330);function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ue(e){var t=e.classes,r=e.handleSubmit,n=e.inProgress,a=e.direction,i=void 0===a?"left":a,o=e.controls,l=e.isFormValid,c=e.formRef,u=e.updateControl,s=e.view;return j.a.createElement(m.a,{direction:i,in:!0,timeout:i?100:0},j.a.createElement("main",{className:t.main},j.a.createElement(y.a,null),j.a.createElement(p.a,{className:t.authCard},j.a.createElement(f.a,{className:t.progressCss,style:n?{visibility:"visible"}:{visibility:"hidden"}}),j.a.createElement(g.a,{className:t.paper},j.a.createElement(b.a,{className:t.avatar},j.a.createElement(v.a,null)),j.a.createElement(w.a,{component:"h1",variant:"h5"},s.title),j.a.createElement(S.ValidatorForm,{onSubmit:function(){return!1},className:t.form,instantValidate:!0,ref:c},o[A]&&j.a.createElement(O.a,{margin:"normal",fullWidth:!0},j.a.createElement(ne,ce({},o[A],{handleChange:u}))),j.a.createElement(O.a,{margin:"normal",fullWidth:!0},j.a.createElement(ne,ce({},o[q],{prefix:j.a.createElement(re,ce({},o[B],{handleChange:u})),handleChange:u}))),j.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!l,onClick:r},"Sent Otp"))))))}ue.propTypes={classes:i.a.object.isRequired};var se=c()($)(ue),me=r(282),pe=r(332),fe=r.n(pe);function be(){return(be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function de(e){var t=e.classes,r=e.handleSubmit,n=e.inProgress,a=e.direction,i=void 0===a?"left":a,o=e.controls,l=e.isFormValid,c=e.formRef,u=e.updateControl,s=e.handleBack;return j.a.createElement(m.a,{direction:i,in:!0,timeout:i?100:0},j.a.createElement("main",{className:t.main},j.a.createElement(y.a,null),j.a.createElement(p.a,{className:t.authCard},j.a.createElement(f.a,{className:t.progressCss,style:n?{visibility:"visible"}:{visibility:"hidden"}}),j.a.createElement(g.a,{className:t.paper},j.a.createElement(me.a,{onClick:s,className:t.paperNavIcon},j.a.createElement(fe.a,null)),j.a.createElement(b.a,{className:t.avatar},j.a.createElement(v.a,null)),j.a.createElement(w.a,{component:"h1",variant:"h5"},"Verify Mobile"),j.a.createElement(S.ValidatorForm,{onSubmit:function(){return!1},className:t.form,instantValidate:!0,ref:c},j.a.createElement(O.a,{margin:"normal",fullWidth:!0},j.a.createElement(ne,be({},o[L],{handleChange:u}))),j.a.createElement(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,disabled:!l,onClick:r},"Verify Mobile"))))))}de.propTypes={classes:i.a.object.isRequired};var ye=c()($)(de),Oe=r(88),ve=r(56),ge=r(333);function he(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var je=function(e,t,r){function n(){return r&&r.isFormValid&&r.isFormValid().then(function(e){return o(e),e?Promise.resolve(!0):Promise.resolve(!1)}),Promise.resolve(!1)}var a=he(Object(h.useState)(e),2),i=a[0],o=a[1];return Object(h.useEffect)(function(){n()},[t]),[i,n]};function Ee(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function we(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ee(Object(r),!0).forEach(function(e){Se(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ee(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Ne=function(e){var t=Pe(Object(h.useState)(e),2),n=t[0],a=t[1];return{state:n,updateControl:function(e,t){var r=Object(E.c)(n,{controls:Se({},e,{$merge:we({},t)})});a(r)},updateView:function(e){var t=Object(E.c)(n,{view:Object(E.c)(n.view,{$merge:we({},e)})});a(t)}}};function Ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Re=function(e,t){var r=Ne(function(){return Object(ge.cloneDeep)(e)}),n=r.updateControl,a=r.updateView,i=r.state,o=i.controls;return{updateControl:n,updateView:a,controls:o,view:i.view,isFormValid:Ve(je(!1,o,t.current),1)[0]}},Ce=r(31);function Me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xe=function(e){var t=e.sendError,r=e.sendStart,n=e.token,a=e.verifyStart,i=e.props,o=Me(Object(h.useState)({viewType:"MOBILE_FORM",direction:null}),2),l=o[0],c=l.viewType,u=l.direction,s=o[1],m=Me(Object(h.useState)(!1),2),p=m[0],f=m[1],b=Object(h.useRef)(!0);return Object(h.useEffect)(function(){b.current?b.current=!1:(!0===r&&f(!0),!1===r&&(f(!1),t||s({viewType:"OTP_FORM",direction:"left"})))},[r,t]),Object(h.useEffect)(function(){!0===a&&f(!0),!1===a&&(f(!1),n&&(localStorage.setItem("USER_TOKEN",n),i.history.push("/")))},[n,a]),{viewType:c,direction:u,inProgress:p,setView:s,setProgress:f}};function Te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function Fe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e){var t=Ce.a.LOGIN.MOBILE,r=t.SEND_OTP,n=t.VERIFY_OTP,a=Object(ve.a)(function(e){return{token:e.auth.token,mobileSendOtpError:e.common.apiErrors[r.KEY],mobileSendOtpStart:e.common.apiRequests[r.KEY],mobileVerifyOtpStart:e.common.apiRequests[n.KEY]}}),i=a.mappedState,o=i.mobileSendOtpError,l=i.mobileSendOtpStart,c=i.token,u=i.mobileVerifyOtpStart,s=a.dispatch,m=xe({props:e,sendStart:l,sendError:o,verifyStart:u,token:c}),p=m.viewType,f=m.direction,b=m.inProgress,d=m.setView,y=Object(h.useRef)(null),O=Object(h.useRef)(null),v=Re(U,y),g=Re(W,O);return"MOBILE_FORM"===p?j.a.createElement(se,{handleSubmit:function(){var e=Object(E.a)(v.controls);s(Object(Oe.a)(e))},inProgress:b,direction:f,controls:v.controls,view:v.view,updateControl:v.updateControl,isFormValid:v.isFormValid,formRef:y}):"OTP_FORM"===p?j.a.createElement(ye,{handleSubmit:function(){var e=Object(E.a)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Te(Object(r),!0).forEach(function(e){Fe(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},g.controls,{},v.controls));s(Object(Oe.b)(e))},inProgress:b,handleBack:function(){d({viewType:"MOBILE_FORM",direction:"right"})},direction:f,controls:g.controls,view:g.view,updateControl:g.updateControl,isFormValid:g.isFormValid,formRef:O}):null}function Ie(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function De(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _e(e){var t=Ce.a.SIGNUP.MOBILE,r=t.SEND_OTP,n=t.VERIFY_OTP,a=Object(ve.a)(function(e){return{token:e.auth.token,signupMobileSendOtpError:e.common.apiErrors[r.KEY],signupMobileSendOtpStart:e.common.apiRequests[r.KEY],signupMobileVerifyOtpStart:e.common.apiRequests[n.KEY]}}),i=a.mappedState,o=i.signupMobileSendOtpError,l=i.signupMobileSendOtpStart,c=i.token,u=i.signupMobileVerifyOtpStart,s=a.dispatch,m=xe({props:e,sendStart:l,sendError:o,verifyStart:u,token:c}),p=m.viewType,f=m.direction,b=m.inProgress,d=m.setView,y=Object(h.useRef)(null),O=Object(h.useRef)(null),v=Re(K,y),g=Re(W,O);return"MOBILE_FORM"===p?j.a.createElement(se,{handleSubmit:function(){var e=Object(E.a)(v.controls);s(Object(Oe.d)(e))},inProgress:b,direction:f,controls:v.controls,view:v.view,updateControl:v.updateControl,isFormValid:v.isFormValid,formRef:y}):"OTP_FORM"===p?j.a.createElement(ye,{handleSubmit:function(){var e=Object(E.a)(function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ie(Object(r),!0).forEach(function(e){De(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({},g.controls,{},v.controls));s(Object(Oe.e)(e))},inProgress:b,handleBack:function(){d({viewType:"MOBILE_FORM",direction:"right"})},direction:f,controls:g.controls,view:v.view,updateControl:g.updateControl,isFormValid:g.isFormValid,formRef:O}):null}t.default=function(){return Object(h.useEffect)(function(){return function(){console.log("unmount")}},[]),Object(E.b)()?j.a.createElement(n.a,{to:"/"}):j.a.createElement("div",null,j.a.createElement(n.d,null,j.a.createElement(n.b,{path:"/auth/login",component:ke}),j.a.createElement(n.b,{path:"/auth/create-account",component:_e})))}}}]);